<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.90.0" />
    <meta name="description" content="Official Rafay product documentation. Explore &#34;Learn KOP - Part 5 - Namespace Management&#34; docs and more here. Rafay is a SaaS-first Kubernetes Operations Platform with enterprise-class scalability.">
<meta name="author" content="James Bland">

    <link rel="icon" href="https://awsmedia.s3.amazonaws.com/favicon.ico" type="image/x-icon" />

    <title>Learn KOP - Part 4 - Namespaces :: Rafay Workshop 1</title>

    
    <link href="/css/nucleus.css?1639173650" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1639173650" rel="stylesheet">
    <link href="/css/hybrid.css?1639173650" rel="stylesheet">
    <link href="/css/featherlight.min.css?1639173650" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1639173650" rel="stylesheet">
    <link href="/css/auto-complete.css?1639173650" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1639173650" rel="stylesheet">
    <link href="/css/theme.css?1639173650" rel="stylesheet">
    <link href="/css/hugo-theme.css?1639173650" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1639173650" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1639173650"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/010_intro/4_namespaces.html">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/" title="Go home"><img style="vertical-align:middle" src="https://modernization-workshop-bucket.s3-us-west-2.amazonaws.com/images/logo.png" height="70px">

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1639173650"></script>
<script type="text/javascript" src="/js/auto-complete.js?1639173650"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1639173650"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/010_intro.html" title="Learn KOP &amp; EKS - CloudWatch Overview" class="dd-item
        parent
        
        
        ">
      <a href="/010_intro.html">
          Learn KOP &amp; EKS - CloudWatch Overview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/010_intro/1_setup.html" title="Learn KOP - Initial Setup" class="dd-item ">
        <a href="/010_intro/1_setup.html">
        Learn KOP - Initial Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/2_provision.html" title="Learn KOP - Provision EKS Cluster with Amazon CloudWatch Integration" class="dd-item ">
        <a href="/010_intro/2_provision.html">
        Learn KOP - Provision EKS Cluster with Amazon CloudWatch Integration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/3_ztka.html" title="Learn KOP - Part 3 - Zero Trust Kubectl" class="dd-item ">
        <a href="/010_intro/3_ztka.html">
        Learn KOP - Part 3 - Zero Trust Kubectl
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/4_namespaces.html" title="Learn KOP - Part 4 - Namespaces" class="dd-item active">
        <a href="/010_intro/4_namespaces.html">
        Learn KOP - Part 4 - Namespaces
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/5_blueprint.html" title="Learn KOP - Amazon CloudWatch Blueprint" class="dd-item ">
        <a href="/010_intro/5_blueprint.html">
        Learn KOP - Amazon CloudWatch Blueprint
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/6_visandmon.html" title="Learn KOP - Part 6 - Visibility and Monitoring" class="dd-item ">
        <a href="/010_intro/6_visandmon.html">
        Learn KOP - Part 6 - Visibility and Monitoring
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/7_polmgmt.html" title="Learn KOP - Part 8 - Policy Management" class="dd-item ">
        <a href="/010_intro/7_polmgmt.html">
        Learn KOP - Part 8 - Policy Management
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/8_deprov.html" title="Learn KOP - Deprovision Cluster" class="dd-item ">
        <a href="/010_intro/8_deprov.html">
        Learn KOP - Deprovision Cluster
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/010_intro/overview.html" title="Learn KOP - Overview" class="dd-item ">
        <a href="/010_intro/overview.html">
        Learn KOP - Overview
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://awsworkshop.io"><i class='fas fa-graduation-cap'></i> Rafay Workshops</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/builders-library/"><i class='fas fa-tools'></i> Rafay Workshop</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/blogs/modernizing-with-aws/"><i class='far fa-lightbulb'></i> KOP with AWS</a>
              </li>
          
              <li>
                  <a class="padding" href="https://eksworkshop.com/"><i class='fas fa-chalkboard-teacher'></i> EKS Workshop</a>
              </li>
          
              <li>
                  <a class="padding" href="https://ecsworkshop.com/"><i class='fas fa-chalkboard-teacher'></i> ECS Workshop</a>
              </li>
          
              <li>
                  <a class="padding" href="https://www.appmeshworkshop.com/"><i class='fas fa-chalkboard-teacher'></i> App Mesh Workshop</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>

    <a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a
        href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | <a
        href="https://modernization-workshop-bucket.s3-us-west-2.amazonaws.com/license/cc-license.html">CC BY-SA 4.0</a>

</left>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Rafay Multi-Cluster Management Workshop</a> > <a href='/010_intro.html'>Learn KOP & EKS - CloudWatch Overview</a> > Learn KOP - Part 4 - Namespaces
          
        
          
        
          
        
                 
                  </span>
                </div>
                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
          <div id="chapter">
        
        <div id="body-inner">
          

        




<p>This is Part 4 of a multi-part, self paced exercise.</p>

<hr />

<h2 id="what-will-you-do">What Will You Do</h2>

<p>In this part, you will</p>

<ul>
<li>Configure a Kubernetes namespace spec in your project</li>
<li>Publish this namespace on a fleet of Kubernetes clusters</li>
</ul>

<p><strong>Estimated Time</strong></p>

<p>Estimated time burden for this part is 10 minutes.</p>

<hr />

<h2 id="step-1-create-namespace">Step 1: Create Namespace</h2>

<ul>
<li>Login into your Org and navigate to the &ldquo;desktop&rdquo; project</li>
<li>Select Infrastructure -&gt; Namespaces</li>
<li>Click on &ldquo;New Namespace&rdquo;</li>
<li>Enter &ldquo;kubeless&rdquo; for <strong><em>Name</em></strong></li>
<li>Select &ldquo;Wizard&rdquo; for <strong><em>Type</em></strong> and Save</li>
</ul>

<p><img src="img/part4/create_ns.png" alt="Create Namespace" /></p>

<p>!!! Note
    In addition to the Namespace wizard, users can also provide the k8s YAML spec for the namespace either by uploading it or point the controller to a Git repo where it can retrieve it.</p>

<hr />

<h2 id="step-2-configure-namespace">Step 2: Configure Namespace</h2>

<p>You will be presented with an intuitive wizard that you can use to configure your namespace&rsquo;s requirements. In our case, we want to add labels to our namespace.</p>

<ul>
<li>Click on Labels -&gt; Key-Value</li>
<li>Provide k8s compliant text for the key and value</li>
<li>Save</li>
</ul>

<p>In the example below, we have entered &ldquo;key=addon&rdquo; and &ldquo;value=kubeless&rdquo;</p>

<p><img src="img/part4/configure_ns.png" alt="Configure Namespace" /></p>

<hr />

<h2 id="step-3-select-placement">Step 3: Select Placement</h2>

<p>Since we only have one cluster in our project for this exercise, we cannot perform multi cluster operations.</p>

<ul>
<li>Select &ldquo;Specific Clusters&rdquo; for Placement Policy</li>
<li>Select your cluster</li>
<li>Click &ldquo;SAVE &amp; GO TO PUBLISH&rdquo;</li>
</ul>

<p><img src="img/part4/place_ns.png" alt="Place Namespace" /></p>

<hr />

<h2 id="step-4-publish-namespace">Step 4: Publish Namespace</h2>

<p>Click on Publish. In a few seconds, the configured namespace will be deployed on the target clusters. Note that the target clusters can be in completely separate security domains and the controller can still manage namespace lifecyle remotely.</p>

<p><img src="img/part4/publish_ns.png" alt="Publish Namespace" /></p>

<hr />

<h2 id="step-5-verify-namespace">Step 5: Verify Namespace</h2>

<p>Optionally, you can verify what the published namespace looks like on your cluster.</p>

<ul>
<li>Navigate to Infrastructure -&gt; Clusters</li>
<li>Click on Kubectl</li>
</ul>

<p>In the example below, you can see that the &ldquo;kubeless&rdquo; namespace was created on the cluster a few seconds back when we published it.</p>
<pre tabindex="0"><code class="language-yaml hl_lines="8"" data-lang="yaml hl_lines="8"">kubectl get ns 

NAME              STATUS   AGE
default           Active   40h
kube-node-lease   Active   40h
kube-public       Active   40h
kube-system       Active   40h
kubeless          Active   34s
rafay-infra       Active   13h
rafay-system      Active   16h</code></pre>
<p>You can also look deeper into the namespace by describing it. Notice that the the &ldquo;custom label&rdquo; we specified is part of the namespace.</p>
<pre tabindex="0"><code class="language-yaml hl_lines="4"" data-lang="yaml hl_lines="4"">kubectl describe ns kubeless

Name:         kubeless
Labels:       addon=kubeless
              app.kubernetes.io/managed-by=Helm
              kubernetes.io/metadata.name=kubeless
              name=kubeless
              rafay.dev/auxiliary=true
              rafay.dev/component=namespace
              rafay.dev/global=true
              rafay.dev/name=namespace
              rep-cluster=k5zpglk
              rep-cluster-name=desktop
              rep-drift-reconcillation=disabled
              rep-organization=lk5od2e
              rep-partner=rx28oml
              rep-placement=mx6ox7m
              rep-project=kgxy58m
              rep-project-name=desktop
              rep-system-managed=true
              rep-workload=namespace-kj351lm-kubeless
              rep-workloadid=qkoz7nm
Annotations:  meta.helm.sh/release-name: namespace-kj351lm-kubeless
              meta.helm.sh/release-namespace: kubeless
              rafay.dev/resource-hash: efbeb365597980119ab784ad5eba8d1baf2d8c7cb8b78605d1020974c118de5f
              rep-drift-action: deny
Status:       Active

No resource quota.

No LimitRange resource.</code></pre>
<hr />

<h2 id="recap">Recap</h2>

<p>Congratulations! At this point, you have successfully configured and published a namespace to your Kubernetes cluster. You also verified the namespace&rsquo;s specification directly on the cluster using Kubectl.</p>

<hr />


<footer class="footline">
	
</footer>

        
            </div> 
        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/010_intro/3_ztka.html" title="Learn KOP - Part 3 - Zero Trust Kubectl"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/010_intro/5_blueprint.html" title="Learn KOP - Amazon CloudWatch Blueprint" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1639173650"></script>
    <script src="/js/perfect-scrollbar.min.js?1639173650"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1639173650"></script>
    <script src="/js/jquery.sticky.js?1639173650"></script>
    <script src="/js/featherlight.min.js?1639173650"></script>
    <script src="/js/highlight.pack.js?1639173650"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1639173650"></script>
    <script src="/js/learn.js?1639173650"></script>
    <script src="/js/hugo-learn.js?1639173650"></script>
    
        
            <script src="/mermaid/mermaid.js?1639173650"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

